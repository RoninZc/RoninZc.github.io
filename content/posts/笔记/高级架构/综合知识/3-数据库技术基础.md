---
title: 数据库技术基础
date: 2025-02-12T08:00:00+08:00
draft: true
tags:
  - 软考
  - 架构
  - 笔记
categories:
  - 学习
  - 笔记
---

## 数据库系统

### 概述

* 数据: 是数据库中存储的基本对象，是描述事物的符号记录
  * 种类: 文本、图像、音频、视频等
* 数据库（DB）: 是长期存储在计算机内、有组织的、可共享的大量数据的集合
* 数据库的基本特征:
  * 数据可按一定的数据模型组织、描述和存储
  * 可为各种用户共享
  * 冗余度较小
  * 数据独立性较高
  * 易扩展
* 数据库系统（DBS）: 是一个采用了数据库技术，有组织地、动态地存储大量相关数据，方便多用户访问的计算机系统，由下面四部分组成
  * 数据库: 统一管理、长期存储在计算机内的，有组织的相关数据的集合
  * 硬件: 构成计算机系统包括存储数据所需的外部设备
  * 软件: 操作系统、数据库管理系统及应用程序
  * 人员: 系统分析和数据库设计人员、应用程序员、最终用户、数据库管理员DBA
* 数据库管理系统（DBMS）的功能
  * 实现对共享数据有效的组织、管理和存取
  * 包括数据定义、数据库操作、数据库运行管理、数据的存储管理、数据库的建立和维护等

### 三级模式-两级映像

{{< image src="https://lsky.ronin-zc.com/i/2025/03/09/67cd3123ef61f.png" alt="三级模式-两级映像" width="50%" >}}

* 内模式: 管理如何存储物理的数据，对应具体物理存储文件
* 模式: 又称为概念模式，就是我们通常使用的基本表，根据应用、需求将物理数据划分为一张张表
* 外模式: 对应数据库中的视图这个级别，将表进行一定的处理后再提供给用户使用


* 外模式-模式映像: 是表和视图时间的映射，存在于概念级和外部级之间，若表中数据发生了修改，只需要修改此映射，而无需修改应用程序
* 模式-内模式映像: 是表和数据的物理存储之间的映射，存在于概念级和内部级之间，若修改了数据的存储方式，只需要修改此映射，而不需要去修改应用程序

### 数据库设计

{{< image src="https://lsky.ronin-zc.com/i/2025/03/09/67cd3379064e2.png" alt="数据库设计" width="50%" >}}

* 需求分析: 即分析数据存储的要求，**产出物又数据流图、数据字典、需求说明书**
* 概念结构设计: 就是**设计 E-R 图**，也即实体-关系图，与物理实现无关，说明有哪些实体，实体有哪些属性，实体之间的关系
* 逻辑结构设计: **将 E-R 图，转换成关系模式**，也即转换成实际的表和表中的列属性，这里要考虑很多规范化的东西
* 物理设计: 根据生成的表等概念，**生成物理数据库**


### 数据模型

分类

* **关系模型是二维表的形式表示的实体-联系模型**，是将实体-联系模型转换而来的，经过开发人员设计的
* **概念模型是从用户角度进行建模**的，是现实世界信息到信息世界的第一抽象，是真正的实体联系模型
* 网状模型表示实体类型及其实体之间的联系，一个事物和另外几个都有联系，形成一张网
* 面向对象模型是采用面对对象的方法设计数据库，以对象为单位，每个对象包括属性和方法，具有类和基础等特点

模型数据三要素

* 数据结构: 所研究的对象类型的集合
* 数据操作: 对数据库中各种对象的实例允许执行的操作的集合
* 数据的约束条件: 一组完整性规则的集合

---

#### ER模型

{{< image src="https://lsky.ronin-zc.com/i/2025/03/09/67cd3af9683aa.png" alt="ER模型" width="50%" >}}

* 用 E-R 图来描述概念数据模型，世界是由一组称为实体的基本对象和这些对象之间的联系构成的
  * 椭圆表示属性（一般没有）
    * **实体具有的特性**
    * 分类
      * 简单属性和符合属性
      * 单值属性和多值属性
      * NULL 属性
      * 派生属性
    * 域: 属性的取值范围称为该属性的域
    * 码(key): 唯一标识实体的属性集
  * 长方体表示实体（强实体: 正常长方体、弱实体: 两侧多一条竖线）
    * **客观存在并可相互区别的事物**。可以是具体的人、事、物或抽象概念
    * 弱实体和强实体: 弱实体依赖于强实体的存在而存在
    * 实体集: 具有相同类型和共享相同属性的实体的集合，如学生、课程
  * 菱形表示联系
    * 现实世界中**事物内部以及事物之间的联系**，在 E-R 图中反映为**实体内部的联系和实体之间的联系**
    * 联系的两端要写联系类型（一对多，一对一，多对多）

#### 关系模型

* 关系模型中数据结构是一张**二维表**，由行列组成。用表格结构表达实体集，用外键标识实体间的联系
* 优点
  * 建立在严格的数学概念基础上
  * 概念单一、结构简单、清晰，用户易懂
  * 存取路径对用户透明，从而数据独立性、安全性好，简化数据库开发工作
* 缺点
  * 由于存取路径透明，查询效率往往不如非关系数据模型

#### ER模型转关系模型

* 每一个实体（强实体）都对应一个关系模型
* 联系分为三种
  * 1:1 联系中，联系可以放到**任意的两端实体中，作为一个属性**（要保证 1:1 的两端关联），也可以转换为一个单独的关系模式
  * 1:N 联系中，联系可以单独作为一个关系模式，也可以在**N端中加入1端实体的主键**
  * M:N 联系中，联系**必须作为一个单独的关系模式，其主键是M和N端的联合主键**

### 关系代数

* 并
  * 结果是两张表中所有记录数合并，相同记录只显示一次
  * 符号: ∪
  * 示例: R ∪ S
* 交
  * 结果是两张表中相同的记录
  * 符号: ∩
  * 示例: R ∩ S
* 差
  * 结果是第一张表中有第二张表中没有的记录
  * 符号: −
  * 示例: R − S
* 笛卡尔积
  * 结果是两张表中所有的属性列，并且两张表中每一条记录两两组合成一条记录
  * 符号: ×
  * 示例: R × S
* 投影
  * 实际是按条件选择某关系模式中的某列，列也可以用数字表示
  * 符号: π
  * 示例: π_{A,B}(R)（表示从关系 R 中提取属性 A 和 B）
* 选择
  * 实际是按条件选择某关系模式中的某条记录
  * 符号：σ
  * 示例：σ_{A=5}(R)（表示从关系 R 中选择满足条件 A=5 的元组）
* 自然连接
  * 结果是**显示全部的属性列，但是相同的属性列只显示一次，显示两个关系模式中属性相同且值相同的记录**
  * 符号：⋈
  * 示例：R ⋈ S（表示 R 和 S 在共同属性上的自然连接）

